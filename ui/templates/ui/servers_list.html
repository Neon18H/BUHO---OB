{% extends 'ui/base.html' %}
{% load ui_tags %}
{% block content %}
<div class="d-flex justify-content-between align-items-center mb-3">
  <h1 class="h4 mb-0">Agents</h1>
</div>
<div class="card table-card">
  <div class="table-responsive sticky-table">
    <table class="table table-hover align-middle mb-0">
      <thead><tr><th>Name</th><th>Hostname</th><th>IP</th><th>OS</th><th>Status</th><th>Last seen</th><th></th></tr></thead>
      <tbody>
      {% for server in servers %}
      <tr>
        <td>{{ server.name }}</td>
        <td>{{ server.hostname }}</td>
        <td>{{ server.ip_address }}</td>
        <td>{{ server.os }}</td>
        <td><span class="badge text-bg-{{ server.status|badge_class }}">{{ server.status }}</span></td>
        <td>{{ server.last_seen|date:'Y-m-d H:i:s' }}</td>
        <td><a href="{% url 'ui:server_detail' server.id %}" class="btn btn-sm btn-outline-primary">View detail</a></td>
      </tr>
      {% empty %}<tr><td colspan="7" class="text-body-secondary">No agents enrolled yet.</td></tr>{% endfor %}
      </tbody>
    </table>
  </div>
</div>
{% endblock %}
