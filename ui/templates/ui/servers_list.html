{% extends 'ui/base_console.html' %}
{% block breadcrumbs %}Infrastructure / Servers{% endblock %}
{% block content %}
<div class="card buho-card mb-3"><div class="card-body"><form class="row g-2"><div class="col-md-4"><select name="provider" class="form-select"><option value="">All providers</option><option value="AWS">AWS</option><option value="AZURE">Azure</option><option value="GCP">GCP</option><option value="RAILWAY">Railway</option><option value="ON_PREM">On-Prem</option></select></div><div class="col-md-4"><select name="status" class="form-select"><option value="">All status</option><option value="ONLINE">ONLINE</option><option value="OFFLINE">OFFLINE</option><option value="DEGRADED">DEGRADED</option></select></div><div class="col-md-2"><button class="btn btn-primary w-100">Filter</button></div></form></div></div>
<div class="card buho-card">{% if servers %}<table class="table mb-0" data-datatable="true"><thead><tr><th>Hostname</th><th>Provider</th><th>Region</th><th>Status</th><th>Last Seen</th><th></th></tr></thead><tbody>{% for server in servers %}<tr><td>{{ server.hostname }}</td><td>{{ server.get_provider_display }}</td><td>{{ server.region|default:'-' }}</td><td><span class="badge {% if server.status == 'ONLINE' %}text-bg-success{% elif server.status == 'DEGRADED' %}text-bg-warning{% else %}text-bg-danger{% endif %}">{{ server.status }}</span></td><td>{{ server.last_seen|date:'Y-m-d H:i' }}</td><td><a class="btn btn-sm btn-outline-light" href="{% url 'ui:server_detail' server.id %}">View</a></td></tr>{% endfor %}</tbody></table>{% else %}<div class="empty-state m-3">Waiting for server telemetry.</div>{% endif %}</div>
{% endblock %}
